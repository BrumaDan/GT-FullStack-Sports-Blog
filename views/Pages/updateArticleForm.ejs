<%- include('../partials/Structure/head.ejs',{authStatus: authStatus}) %>

  <main class="article-register w-100 m-auto text-center">
     <form method="POST" enctype="multipart/form-data" action="/update/<%=article.id %>">      
      <h1 class="h3 mb-3 fw-normal">Update Article</h1>
      <% if (message) { %>
        <section class="messages">        
          <p><%= message %></p>      
        </section>
        <% } %>
      <div class="form-floating">
        <div class="input-group mb-3">          
          <span class="input-group-text">Name</span>
          <input required value="<%=article.name %>" type="username" name="name" type="text" class="form-control" id="floatingInput" >
        </div>      
      </div>
      <div class="form-floating">
        <div class="input-group mb-3">
          <span class="input-group-text">Category </span>
            <select class="form-control" name="category">
              <% categories.forEach((item)=>{%>
              <option class="form-control" name="<%=item.name%>"><%=item.name%></option>
              <%});%>    
            </select>
          </div>
      </div>
      <div class="form-floating">
        <div class="input-group mb-3">
          <span class="input-group-text">Description</span>          
          <textarea required name="description" class="form-control"><%=article.description %></textarea>
      </div>
      <div class="form-floating">
        <div class="input-group mb-3">
          <span class="input-group-text">Author</span>
          <input type="text" required name="author" value="<%=article.author %>" class="form-control"></input>
        </div>  
      </div>
      <div class="form-floating">
        <div class="input-group mb-3">
          <span class="input-group-text">Image</span>
          <input  type="file" name="filename" class="form-control"></input>
        </div>  
      </div>
      <div class="form-floating">
        <div class="input-group mb-3">
          <span class="input-group-text">URL</span>
          <input  type="url" value="<%=article.link %>" required name="link" class="form-control"></input>
        </div>  
      </div>
      <button class="w-100 btn btn-lg btn-outline-secondary" type="submit">Update Article</button>      
    </form>
  </main>

<%- include('../partials/Structure/footer.ejs') %>